<!DOCTYPE html>
<html lang = "en">
    <head>

        <!--required-->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    

        <!--Bootstrap CSS-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link id="theme" rel="stylesheet" href="./template.css">

        <script>
          window.onload = 'rerunServer.js', 'rerunCalc.js'
          var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
          var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
          })
          
          document.addEventListener("DOMContentLoaded", function(){
            var popoverTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]'));
            var popoverList = popoverTriggerList.map(function(element){
              return new bootstrap.Popover(element);
            });
          });

          var popover = new bootstrap.Popover(document.querySelector('.popover-dismiss'), {
            trigger: 'focus'
          })
          
          function toggleTheme() {
            var theme = document.getElementsByTagName('link')[1];

            if (theme.getAttribute('href') == './template.css') {
                theme.setAttribute('href', './alt_template.css');
            } else {
                theme.setAttribute('href', './template.css');
            }
        }

          function upload(){
              document.getElementById("uploadWindow").innerHTML = '<div class = "card">'+
              "<p>Upload JSON file here: </p>"+
              '<form  id = "form" enctype="multipart/form-data" action = "http://localhost:3000/upload" method = "POST">'+
              '  <label for="file">Select files:</label>'+
              '  <input type="file" id="file" accept=".json" name="file" multiple><br><br>'+
              '  <input type="submit" id = "submitform" >'+
              '</form>'+
              '</div>';
          }

        </script>

    </head>
    <body>
        <!--Navbar-->
        <nav class="navbar navbar-expand-lg navbar-dark" style="background-color: #3E3E3F;">
            <div class="container-fluid">
              <a class="navbar-brand" href="#"></a>
                <!--insert mammalweb logo photo below-->
                <img src="./images/MammalWeblogo.png" alt="" width="60" height="40">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
              <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link active" href="#" id ="home">HOME</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      ABOUT
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">KPI dashboard</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">GET STARTED</a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">PROJECTS</a>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      CONTRIBUTE
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      LEARN
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                      COMMUNITY
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                      <li><a class="dropdown-item" href="#">Action</a></li>
                      <li><a class="dropdown-item" href="#">Another action</a></li>
                      <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="#">LOGOUT</a>
                  </li>
                  <li class="nav-item">
                    <button class="colour-change" onclick="toggleTheme()">CHANGE COLOUR</button>
                  </li>
                  <li class="nav-item">
                    <button class="colour-change" id = "upload" onclick = "upload()" >UPLOAD</button>
                  </li>
                </ul>
              </div>
            </div>
          </nav>

          <div ><div id = "uploadWindow"></div>

          <div class="KPI1">
            <div class="row row-cols-1 row-cols-md-3 g-4">
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI1_title">CITIZEN SCIENTISTS</h4>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="The citizen scientists KPI portrays information and data for the citizens of different countries who provide MammalWeb with their mammal sightings. This KPI will allow you to see how our users around the UK and Europe have interacted with our platform">
                    </a>
                    <hr>
                    <h6 class = "description" > images for classification </h6>
                    <canvas id="KPI1ag1"></canvas>
                    <table class = "KPItable", id="KPI1table">
                      <thead>
                          <tr>
                              <th >Last Year</th>
                              <th >All Time</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td> 
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                    <hr>
                    <h6 class = "description" > classifying images </h6>
                    <canvas id="KPI1bg1"></canvas>
                    <table  class = "KPItable", id="KPI1table">
                      <thead>
                          <tr>
                              <th >Last Year</th>
                              <th >All Time</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td>
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI2_title">Image sequences</h4>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="See how numbers of contributed image sequences and videos have accumulated over time.">
                    </a>
                    <hr>
                    <h6 class = "description" > Number of camera-days</h6>
                    <canvas id="KPI2ag1"></canvas>
                    <table  class = "KPItable", id="KPI2table">
                      <thead>
                          <tr>
                              <th >Last Year</th>
                              <th >All Time</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td> 
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                    <hr>
                    <h6 class = "description" > Number of image sequences uploaded</h6>
                    <canvas id="KPI2bg1"></canvas>
                    <table class = "KPItable", id="KPI2table">
                      <thead>
                          <tr>
                              <th >Last Year</th>
                              <th >All Time</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td> 
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI3_title">Classification</h4>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="The classification KPI represents data and trends of the classification of different animals during mammal spotting. See the number of different classifications made, including that of image sequences with complete classifications including the total number of animals identified. ">
                    </a>
                    <hr>
                    <h6 class = "description" > Number of classification "events"</h6>
                    <canvas id="KPI3ag1"></canvas>
                    <table class = "KPItable", id="KPI3table">
                      <thead>
                          <tr>
                              <th >Last Year</th>
                              <th >All Time</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td> 
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                    <hr>
                    <h6 class = "description" > Number of animals (mammals/birds) identified</h6>
                    <canvas id="KPI3dg1"></canvas>
                    <table class = "KPItable", id="KPI3table">
                      <thead>
                          <tr>
                              <th > Nº of Animals</th>
                              <th > Nº of Species</th>
                          </tr>
                          <tbody>
                            <tr>
                                <td >Data</td>
                                <td >Data</td> 
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI4_title">Quantity/quality/coverage of data in </h4>
                    <h6 class = "description" > images for classification </h6>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="The quantity/quality/coverage of data KPI represents the metadata about all the sightings and images uploaded. As MammalWeb “help(s) monitor wild mammals across the UK and in continental Europe”, and most classifications occur in the UK, a map of the UK which is divided into 10k cells portrays the data on the top 5 animals classified within the specified longitude square. The map is interactive and allows you to see all the animals that have been spotted in the specified area, if no sightings were seen in the specific cell no data is portrayed and you get a message explaining so. 

                    For Europe there is a table depicting the number of countries with sites and the total number of sites. A site is a location at which a mammal was spotted and classified, a country appears on the table if at least one location was used within the country and the total number of sites is the total number of sites across all the countries in Europe.
                    
                    ">
                    </a>
                    <hr>
                    <canvas id="KPI4g1"></canvas>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI5_title">Impact</h4>
                    <h6 class = "description" > images for classification </h6>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="The ‘Impact’ KPI represents data in retrospect to the impact that MammalWeb and its data have created in the wider community. This would include data about the number of peer-reviewed papers and citations which have used data from MammalWeb’s website. Records submitted to ERIC/NBN/GBIF are also portrayed in a table. ">
                    </a>
                    <hr>
                    <canvas id="KPI5g1"></canvas>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-body">
                    <h4 class="card-title" id = "KPI6_title">Funding</h4>
                    <h6 class = "description" > Number of Grants and Contracts </h6>
                    <a tabindex="0" type="button" class="button" data-bs-container="body" data-bs-toggle="popover" data-bs-trigger="focus" data-bs-placement="right" data-bs-content="MammalWeb has always been grateful for all the support and contracts they have received. The funding KPI has three specific sections, the first being the total number of grants and contracts received, over the last year. The total value of the grants received is portrayed as a line graph over the past few years and the final table portrays all the other income for MammalWeb, including advertising, sponsorship, donations and subscriptions seen in a bar chart per section. All the currencies are portrayed in GBP (£).">
                    </a>
                    <hr>
                    <table  class = "KPItable", id="KPI6table">
                      <thead>
                          <tr>
                              <th > Last year </th>
                              <th > All Time </th>
                          </tr>
                          <tbody>
                            <tr>
                                <td > 2 </td>
                                <td > 235 </td>
                            </tr>
                          </tbody>
                      </thead>
                    </table>
                  </div>
                </div>
              </div>
            </div>

  
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

        <script src="charts.js"></script>
        <script type="module" src="rerunServer.js"></script> 
        <script type="module" src="rerunCalc.js"></script> 
    </body>
    <!-- from https://codepen.io/scanfcode/pen/MEZPNd -->
    <footer class="site-footer">
      <div class="container">
        <div class="row">
          <div class="col-sm-12 col-md-6">
            <h6>About</h6>
            <p class="text-justify">MammalWeb is run by the not-for-profit organisation, MammalWeb Limited. Material on this website is licensed under a <a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>, unless otherwise stated on the website. <a href="https://www.mammalweb.org/index.php?option=com_content&amp;view=article&amp;id=633">Terms and Conditions</a></p>
          </div>

          <div class="col-xs-6 col-md-3">
            <h6>Socials</h6>
            <ul class="footer-links">
              <li><a href="https://www.facebook.com/MammalWeb">Facebook</a></li>
              <li><a href="https://twitter.com/mammalweb?lang=en">Twitter</a></li>
              <li><a href="https://www.youtube.com/channel/UCZ0rBgdVtZRuWg8AyZUWt4A">YouTube</a></li>
            </ul>
          </div>

          <div class="col-xs-6 col-md-3">
            <h6>Quick Links</h6>
            <ul class="footer-links">
              <li><a href="https://www.mammalweb.org/en/about/about-mammalweb">About Us</a></li>
              <li><a href="mailto:info@mammalweb.org">Contact Us at info@mammalweb.org</a></li>
            </ul>
          </div>
        </div>
        <hr>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-md-8 col-sm-6 col-xs-12">
            <p class="copyright-text">Copyright &copy; ... All Rights Reserved by 
         <a href="#">MammalWeb</a>.
            </p>

        </div>
      </div>
</footer>
</html>